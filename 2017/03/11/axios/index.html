<!DOCTYPE html>
<html lang="zh-Hans">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="ä¸ä¼šæè‰ºæœ¯çš„ç¨‹åºå‘˜ä¸æ˜¯å¥½è®¾è®¡å¸ˆ">
    

    <!--Author-->
    
        <meta name="author" content="hk">
    

    <!-- Title -->
    
    <title>axios | HK&#39;s blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Noto+Serif:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <!-- Content -->
    <section class="article-container">
<!-- Back Home -->
<a class="nav-back" href="/">
    <i class="fa fa-puzzle-piece"></i>
</a>

<!-- Page Header -->
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>axios</h1>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Main Content -->
            <div class="post-content col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h1 id="ä¸€-å®‰è£…"><a href="#ä¸€-å®‰è£…" class="headerlink" title="ä¸€. å®‰è£…"></a>ä¸€. å®‰è£…</h1><p>1ã€ åˆ©ç”¨npmå®‰è£…<code>npm install axios --save</code><br>2ã€ åˆ©ç”¨bowerå®‰è£…<code>bower install axios --save</code><br>3ã€ ç›´æ¥åˆ©ç”¨cdnå¼•å…¥<code>&lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</code></p>
<h1 id="äºŒ-ä¾‹å­"><a href="#äºŒ-ä¾‹å­" class="headerlink" title="äºŒ. ä¾‹å­"></a>äºŒ. ä¾‹å­</h1><h2 id="1-å‘é€ä¸€ä¸ªGETè¯·æ±‚"><a href="#1-å‘é€ä¸€ä¸ªGETè¯·æ±‚" class="headerlink" title="1.å‘é€ä¸€ä¸ªGETè¯·æ±‚"></a>1.å‘é€ä¸€ä¸ªGETè¯·æ±‚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//é€šè¿‡ç»™å®šçš„IDæ¥å‘é€è¯·æ±‚</span><br><span class="line">axios.get(&apos;/user?ID=12345&apos;)</span><br><span class="line">  .then(function(response)&#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function(err)&#123;</span><br><span class="line">    console.log(err);</span><br><span class="line">  &#125;);</span><br><span class="line">//ä»¥ä¸Šè¯·æ±‚ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥å‘é€</span><br><span class="line">axios.get(&apos;/user&apos;,&#123;</span><br><span class="line">  params:&#123;</span><br><span class="line">    ID:12345</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then(function(response)&#123;</span><br><span class="line">  console.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(function(err)&#123;</span><br><span class="line">  console.log(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="2-å‘é€ä¸€ä¸ªPOSTè¯·æ±‚"><a href="#2-å‘é€ä¸€ä¸ªPOSTè¯·æ±‚" class="headerlink" title="2.å‘é€ä¸€ä¸ªPOSTè¯·æ±‚"></a>2.å‘é€ä¸€ä¸ªPOSTè¯·æ±‚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.post(&apos;/user&apos;,&#123;</span><br><span class="line">  firstName:&apos;Fred&apos;,</span><br><span class="line">  lastName:&apos;Flintstone&apos;</span><br><span class="line">&#125;)</span><br><span class="line">.then(function(res)&#123;</span><br><span class="line">  console.log(res);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(function(err)&#123;</span><br><span class="line">  console.log(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="3-ä¸€æ¬¡æ€§å¹¶å‘å¤šä¸ªè¯·æ±‚"><a href="#3-ä¸€æ¬¡æ€§å¹¶å‘å¤šä¸ªè¯·æ±‚" class="headerlink" title="3.ä¸€æ¬¡æ€§å¹¶å‘å¤šä¸ªè¯·æ±‚"></a>3.ä¸€æ¬¡æ€§å¹¶å‘å¤šä¸ªè¯·æ±‚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function getUserAccount()&#123;</span><br><span class="line">  return axios.get(&apos;/user/12345&apos;);</span><br><span class="line">&#125;</span><br><span class="line">function getUserPermissions()&#123;</span><br><span class="line">  return axios.get(&apos;/user/12345/permissions&apos;);</span><br><span class="line">&#125;</span><br><span class="line">axios.all([getUserAccount(),getUserPermissions()])</span><br><span class="line">  .then(axios.spread(function(acct,perms)&#123;</span><br><span class="line">    //å½“è¿™ä¸¤ä¸ªè¯·æ±‚éƒ½å®Œæˆçš„æ—¶å€™ä¼šè§¦å‘è¿™ä¸ªå‡½æ•°ï¼Œä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä»£è¡¨è¿”å›çš„ç»“æœ</span><br><span class="line">  &#125;))</span><br></pre></td></tr></table></figure>
<h1 id="ä¸‰-axiosçš„API"><a href="#ä¸‰-axiosçš„API" class="headerlink" title="ä¸‰. axiosçš„API"></a>ä¸‰. axiosçš„API</h1><h2 id="ï¼ˆä¸€ï¼‰-axioså¯ä»¥é€šè¿‡é…ç½®ï¼ˆconfigï¼‰æ¥å‘é€è¯·æ±‚"><a href="#ï¼ˆä¸€ï¼‰-axioså¯ä»¥é€šè¿‡é…ç½®ï¼ˆconfigï¼‰æ¥å‘é€è¯·æ±‚" class="headerlink" title="ï¼ˆä¸€ï¼‰ axioså¯ä»¥é€šè¿‡é…ç½®ï¼ˆconfigï¼‰æ¥å‘é€è¯·æ±‚"></a>ï¼ˆä¸€ï¼‰ axioså¯ä»¥é€šè¿‡é…ç½®ï¼ˆconfigï¼‰æ¥å‘é€è¯·æ±‚</h2><h3 id="1-axios-config"><a href="#1-axios-config" class="headerlink" title="1.axios(config)"></a>1.axios(config)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//å‘é€ä¸€ä¸ª`POST`è¯·æ±‚</span><br><span class="line">axios(&#123;</span><br><span class="line">    method:&quot;POST&quot;,</span><br><span class="line">    url:&apos;/user/12345&apos;,</span><br><span class="line">    data:&#123;</span><br><span class="line">        firstName:&quot;Fred&quot;,</span><br><span class="line">        lastName:&quot;Flintstone&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="2-axios-url-config"><a href="#2-axios-url-config" class="headerlink" title="2.axios(url[,config])"></a>2.axios(url[,config])</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//å‘é€ä¸€ä¸ª`GET`è¯·æ±‚ï¼ˆé»˜è®¤çš„è¯·æ±‚æ–¹å¼ï¼‰</span><br><span class="line">axios(&apos;/user/12345&apos;);</span><br></pre></td></tr></table></figure>
<h2 id="ï¼ˆäºŒï¼‰è¯·æ±‚æ–¹å¼çš„åˆ«åï¼Œè¿™é‡Œå¯¹æ‰€æœ‰å·²ç»æ”¯æŒçš„è¯·æ±‚æ–¹å¼éƒ½æä¾›äº†æ–¹ä¾¿çš„åˆ«å"><a href="#ï¼ˆäºŒï¼‰è¯·æ±‚æ–¹å¼çš„åˆ«åï¼Œè¿™é‡Œå¯¹æ‰€æœ‰å·²ç»æ”¯æŒçš„è¯·æ±‚æ–¹å¼éƒ½æä¾›äº†æ–¹ä¾¿çš„åˆ«å" class="headerlink" title="ï¼ˆäºŒï¼‰è¯·æ±‚æ–¹å¼çš„åˆ«åï¼Œè¿™é‡Œå¯¹æ‰€æœ‰å·²ç»æ”¯æŒçš„è¯·æ±‚æ–¹å¼éƒ½æä¾›äº†æ–¹ä¾¿çš„åˆ«å"></a>ï¼ˆäºŒï¼‰è¯·æ±‚æ–¹å¼çš„åˆ«åï¼Œè¿™é‡Œå¯¹æ‰€æœ‰å·²ç»æ”¯æŒçš„è¯·æ±‚æ–¹å¼éƒ½æä¾›äº†æ–¹ä¾¿çš„åˆ«å</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">axios.request(config);</span><br><span class="line"></span><br><span class="line">axios.get(url[,config]);</span><br><span class="line"></span><br><span class="line">axios.delete(url[,config]);</span><br><span class="line"></span><br><span class="line">axios.head(url[,config]);</span><br><span class="line"></span><br><span class="line">axios.post(url[,data[,config]]);</span><br><span class="line"></span><br><span class="line">axios.put(url[,data[,config]])</span><br><span class="line"></span><br><span class="line">axios.patch(url[,data[,config]])</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šå½“æˆ‘ä»¬åœ¨ä½¿ç”¨åˆ«åæ–¹æ³•çš„æ—¶å€™ï¼Œurl,method,dataè¿™å‡ ä¸ªå‚æ•°ä¸éœ€è¦åœ¨é…ç½®ä¸­å£°æ˜</p>
<h2 id="ï¼ˆä¸‰ï¼‰å¹¶å‘è¯·æ±‚ï¼ˆconcurrencyï¼‰-å³æ˜¯å¸®åŠ©å¤„ç†å¹¶å‘è¯·æ±‚çš„è¾…åŠ©å‡½æ•°"><a href="#ï¼ˆä¸‰ï¼‰å¹¶å‘è¯·æ±‚ï¼ˆconcurrencyï¼‰-å³æ˜¯å¸®åŠ©å¤„ç†å¹¶å‘è¯·æ±‚çš„è¾…åŠ©å‡½æ•°" class="headerlink" title="ï¼ˆä¸‰ï¼‰å¹¶å‘è¯·æ±‚ï¼ˆconcurrencyï¼‰,å³æ˜¯å¸®åŠ©å¤„ç†å¹¶å‘è¯·æ±‚çš„è¾…åŠ©å‡½æ•°"></a>ï¼ˆä¸‰ï¼‰å¹¶å‘è¯·æ±‚ï¼ˆconcurrencyï¼‰,å³æ˜¯å¸®åŠ©å¤„ç†å¹¶å‘è¯·æ±‚çš„è¾…åŠ©å‡½æ•°</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//iterableæ˜¯ä¸€ä¸ªå¯ä»¥è¿­ä»£çš„å‚æ•°å¦‚æ•°ç»„ç­‰</span><br><span class="line">axios.all(iterable)</span><br><span class="line">//callbackè¦ç­‰åˆ°æ‰€æœ‰è¯·æ±‚éƒ½å®Œæˆæ‰ä¼šæ‰§è¡Œ</span><br><span class="line">axios.spread(callback)</span><br></pre></td></tr></table></figure>
<h2 id="ï¼ˆå››ï¼‰åˆ›å»ºä¸€ä¸ªaxioså®ä¾‹ï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰å…¶é…ç½®"><a href="#ï¼ˆå››ï¼‰åˆ›å»ºä¸€ä¸ªaxioså®ä¾‹ï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰å…¶é…ç½®" class="headerlink" title="ï¼ˆå››ï¼‰åˆ›å»ºä¸€ä¸ªaxioså®ä¾‹ï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰å…¶é…ç½®"></a>ï¼ˆå››ï¼‰åˆ›å»ºä¸€ä¸ªaxioså®ä¾‹ï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰å…¶é…ç½®</h2><h3 id="1-axios-create-config"><a href="#1-axios-create-config" class="headerlink" title="1.axios.create([config])"></a>1.axios.create([config])</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var instance = axios.create(&#123;</span><br><span class="line">  baseURL:&quot;https://some-domain.com/api/&quot;,</span><br><span class="line">  timeout:1000,</span><br><span class="line">  headers: &#123;&apos;X-Custom-Header&apos;:&apos;foobar&apos;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="2-å®ä¾‹çš„æ–¹æ³•"><a href="#2-å®ä¾‹çš„æ–¹æ³•" class="headerlink" title="2.å®ä¾‹çš„æ–¹æ³•"></a>2.å®ä¾‹çš„æ–¹æ³•</h3><p>ä»¥ä¸‹æ˜¯å®ä¾‹æ–¹æ³•ï¼Œæ³¨æ„å·²ç»å®šä¹‰çš„é…ç½®å°†å’Œåˆ©ç”¨createåˆ›å»ºçš„å®ä¾‹çš„é…ç½®åˆå¹¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">axios#request(config)</span><br><span class="line"></span><br><span class="line">axios#get(url[,config])</span><br><span class="line"></span><br><span class="line">axios#delete(url[,config])</span><br><span class="line"></span><br><span class="line">axios#head(url[,config])</span><br><span class="line"></span><br><span class="line">axios#post(url[,data[,config]])</span><br><span class="line"></span><br><span class="line">axios#put(url[,data[,config]])</span><br><span class="line"></span><br><span class="line">axios#patch(url[,data[,config]])</span><br></pre></td></tr></table></figure></p>
<h1 id="å››-è¯·æ±‚çš„é…ç½®ï¼ˆrequest-configï¼‰"><a href="#å››-è¯·æ±‚çš„é…ç½®ï¼ˆrequest-configï¼‰" class="headerlink" title="å››. è¯·æ±‚çš„é…ç½®ï¼ˆrequest configï¼‰"></a>å››. è¯·æ±‚çš„é…ç½®ï¼ˆrequest configï¼‰</h1><p>ä»¥ä¸‹å°±æ˜¯è¯·æ±‚çš„é…ç½®é€‰é¡¹ï¼Œåªæœ‰urlé€‰é¡¹æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœmethodé€‰é¡¹æœªå®šä¹‰ï¼Œé‚£ä¹ˆå®ƒé»˜è®¤æ˜¯ä»¥GETçš„æ–¹å¼å‘å‡ºè¯·æ±‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  //`url`æ˜¯è¯·æ±‚çš„æœåŠ¡å™¨åœ°å€</span><br><span class="line">  url:&apos;/user&apos;,</span><br><span class="line">  //`method`æ˜¯è¯·æ±‚èµ„æºçš„æ–¹å¼</span><br><span class="line">  method:&apos;get&apos;//default</span><br><span class="line">  //å¦‚æœ`url`ä¸æ˜¯ç»å¯¹åœ°å€ï¼Œé‚£ä¹ˆ`baseURL`å°†ä¼šåŠ åˆ°`url`çš„å‰é¢</span><br><span class="line">  //å½“`url`æ˜¯ç›¸å¯¹åœ°å€çš„æ—¶å€™ï¼Œè®¾ç½®`baseURL`ä¼šéå¸¸çš„æ–¹ä¾¿</span><br><span class="line">  baseURL:&apos;https://some-domain.com/api/&apos;,</span><br><span class="line">  //`transformRequest`é€‰é¡¹å…è®¸æˆ‘ä»¬åœ¨è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ä¹‹å‰å¯¹è¯·æ±‚çš„æ•°æ®åšå‡ºä¸€äº›æ”¹åŠ¨</span><br><span class="line">  //è¯¥é€‰é¡¹åªé€‚ç”¨äºä»¥ä¸‹è¯·æ±‚æ–¹å¼ï¼š`put/post/patch`</span><br><span class="line">  //æ•°ç»„é‡Œé¢çš„æœ€åä¸€ä¸ªå‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€-ä¸€ä¸ª`ArrayBuffer`æˆ–è€…`Stream`</span><br><span class="line">  transformRequest:[function(data)&#123;</span><br><span class="line">    //åœ¨è¿™é‡Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚æ”¹å˜æ•°æ®</span><br><span class="line">    return data;</span><br><span class="line">  &#125;],</span><br><span class="line">  //`transformResponse`é€‰é¡¹å…è®¸æˆ‘ä»¬åœ¨æ•°æ®ä¼ é€åˆ°`then/catch`æ–¹æ³•ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œæ”¹åŠ¨</span><br><span class="line">  transformResponse:[function(data)&#123;</span><br><span class="line">    //åœ¨è¿™é‡Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚æ”¹å˜æ•°æ®</span><br><span class="line">    return data;</span><br><span class="line">  &#125;],</span><br><span class="line">  //`headers`é€‰é¡¹æ˜¯éœ€è¦è¢«å‘é€çš„è‡ªå®šä¹‰è¯·æ±‚å¤´ä¿¡æ¯</span><br><span class="line">  headers: &#123;&apos;X-Requested-With&apos;:&apos;XMLHttpRequest&apos;&#125;,</span><br><span class="line">  //`params`é€‰é¡¹æ˜¯è¦éšè¯·æ±‚ä¸€èµ·å‘é€çš„è¯·æ±‚å‚æ•°----ä¸€èˆ¬é“¾æ¥åœ¨URLåé¢</span><br><span class="line">  //ä»–çš„ç±»å‹å¿…é¡»æ˜¯ä¸€ä¸ªçº¯å¯¹è±¡æˆ–è€…æ˜¯URLSearchParamså¯¹è±¡</span><br><span class="line">  params: &#123;</span><br><span class="line">    ID:12345</span><br><span class="line">  &#125;,</span><br><span class="line">  //`paramsSerializer`æ˜¯ä¸€ä¸ªå¯é€‰çš„å‡½æ•°ï¼Œèµ·ä½œç”¨æ˜¯è®©å‚æ•°ï¼ˆparamsï¼‰åºåˆ—åŒ–</span><br><span class="line">  //ä¾‹å¦‚(https://www.npmjs.com/package/qs,http://api.jquery.com/jquery.param)</span><br><span class="line">  paramsSerializer: function(params)&#123;</span><br><span class="line">    return Qs.stringify(params,&#123;arrayFormat:&apos;brackets&apos;&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  //`data`é€‰é¡¹æ˜¯ä½œä¸ºä¸€ä¸ªè¯·æ±‚ä½“è€Œéœ€è¦è¢«å‘é€çš„æ•°æ®</span><br><span class="line">  //è¯¥é€‰é¡¹åªé€‚ç”¨äºæ–¹æ³•ï¼š`put/post/patch`</span><br><span class="line">  //å½“æ²¡æœ‰è®¾ç½®`transformRequest`é€‰é¡¹æ—¶dadaå¿…é¡»æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹ä¹‹ä¸€</span><br><span class="line">  //string/plain/object/ArrayBuffer/ArrayBufferView/URLSearchParams</span><br><span class="line">  //ä»…ä»…æµè§ˆå™¨ï¼šFormData/File/Bold</span><br><span class="line">  //ä»…node:Stream</span><br><span class="line">  data &#123;</span><br><span class="line">    firstName:&quot;Fred&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  //`timeout`é€‰é¡¹å®šä¹‰äº†è¯·æ±‚å‘å‡ºçš„å»¶è¿Ÿæ¯«ç§’æ•°</span><br><span class="line">  //å¦‚æœè¯·æ±‚èŠ±è´¹çš„æ—¶é—´è¶…è¿‡å»¶è¿Ÿçš„æ—¶é—´ï¼Œé‚£ä¹ˆè¯·æ±‚ä¼šè¢«ç»ˆæ­¢</span><br><span class="line"></span><br><span class="line">  timeout:1000,</span><br><span class="line">  //`withCredentails`é€‰é¡¹è¡¨æ˜äº†æ˜¯å¦æ˜¯è·¨åŸŸè¯·æ±‚</span><br><span class="line"></span><br><span class="line">  withCredentials:false,//default</span><br><span class="line">  //`adapter`é€‚é…å™¨é€‰é¡¹å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œè¿™ä¼šä½¿å¾—æµ‹è¯•å˜å¾—æ–¹ä¾¿</span><br><span class="line">  //è¿”å›ä¸€ä¸ªpromise,å¹¶æä¾›éªŒè¯è¿”å›</span><br><span class="line">  adapter: function(config)&#123;</span><br><span class="line">    /*..........*/</span><br><span class="line">  &#125;,</span><br><span class="line">  //`auth`è¡¨æ˜HTTPåŸºç¡€çš„è®¤è¯åº”è¯¥è¢«ä½¿ç”¨ï¼Œå¹¶æä¾›è¯ä¹¦</span><br><span class="line">  //è¿™ä¼šè®¾ç½®ä¸€ä¸ªauthorizationå¤´ï¼ˆheaderï¼‰,å¹¶è¦†ç›–ä½ åœ¨headerè®¾ç½®çš„Authorizationå¤´ä¿¡æ¯</span><br><span class="line">  auth: &#123;</span><br><span class="line">    username:&quot;zhangsan&quot;,</span><br><span class="line">    password: &quot;s00sdkf&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  //è¿”å›æ•°æ®çš„æ ¼å¼</span><br><span class="line">  //å…¶å¯é€‰é¡¹æ˜¯arraybuffer,blob,document,json,text,stream</span><br><span class="line">  responseType:&apos;json&apos;,//default</span><br><span class="line">  //</span><br><span class="line">  xsrfCookieName: &apos;XSRF-TOKEN&apos;,//default</span><br><span class="line">  xsrfHeaderName:&apos;X-XSRF-TOKEN&apos;,//default</span><br><span class="line">  //`onUploadProgress`ä¸Šä¼ è¿›åº¦äº‹ä»¶</span><br><span class="line">  onUploadProgress:function(progressEvent)&#123;</span><br><span class="line">    //ä¸‹è½½è¿›åº¦çš„äº‹ä»¶</span><br><span class="line">onDownloadProgress:function(progressEvent)&#123;</span><br><span class="line">&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //ç›¸åº”å†…å®¹çš„æœ€å¤§å€¼</span><br><span class="line">  maxContentLength:2000,</span><br><span class="line">  //`validateStatus`å®šä¹‰äº†æ˜¯å¦æ ¹æ®httpç›¸åº”çŠ¶æ€ç ï¼Œæ¥resolveæˆ–è€…reject promise</span><br><span class="line">  //å¦‚æœ`validateStatus`è¿”å›true(æˆ–è€…è®¾ç½®ä¸º`null`æˆ–è€…`undefined`),é‚£ä¹ˆpromiseçš„çŠ¶æ€å°†ä¼šæ˜¯resolved,å¦åˆ™å…¶çŠ¶æ€å°±æ˜¯rejected</span><br><span class="line">  validateStatus:function(status)&#123;</span><br><span class="line">    return status &gt;= 200 &amp;&amp; status &lt;300;//default</span><br><span class="line">  &#125;,</span><br><span class="line">  //`maxRedirects`å®šä¹‰äº†åœ¨nodejsä¸­é‡å®šå‘çš„æœ€å¤§æ•°é‡</span><br><span class="line">  maxRedirects: 5,//default</span><br><span class="line">  //`httpAgent/httpsAgent`å®šä¹‰äº†å½“å‘é€http/httpsè¯·æ±‚è¦ç”¨åˆ°çš„è‡ªå®šä¹‰ä»£ç†</span><br><span class="line">  //keeyAliveåœ¨é€‰é¡¹ä¸­æ²¡æœ‰è¢«é»˜è®¤æ¿€æ´»</span><br><span class="line">  httpAgent: new http.Agent(&#123;keeyAlive:true&#125;),</span><br><span class="line">  httpsAgent: new https.Agent(&#123;keeyAlive:true&#125;),</span><br><span class="line">  //proxyå®šä¹‰äº†ä¸»æœºåå­—å’Œç«¯å£å·ï¼Œ</span><br><span class="line">  //`auth`è¡¨æ˜httpåŸºæœ¬è®¤è¯åº”è¯¥ä¸proxyä»£ç†é“¾æ¥ï¼Œå¹¶æä¾›è¯ä¹¦</span><br><span class="line">  //è¿™å°†ä¼šè®¾ç½®ä¸€ä¸ª`Proxy-Authorization` header,å¹¶ä¸”ä¼šè¦†ç›–æ‰å·²ç»å­˜åœ¨çš„`Proxy-Authorization`  header</span><br><span class="line">  proxy: &#123;</span><br><span class="line">    host:&apos;127.0.0.1&apos;,</span><br><span class="line">    port: 9000,</span><br><span class="line">    auth: &#123;</span><br><span class="line">      username:&apos;skda&apos;,</span><br><span class="line">      password:&apos;radsd&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //`cancelToken`å®šä¹‰äº†ä¸€ä¸ªç”¨äºå–æ¶ˆè¯·æ±‚çš„cancel token</span><br><span class="line">  //è¯¦è§cancelationéƒ¨åˆ†</span><br><span class="line">  cancelToken: new cancelToken(function(cancel)&#123;</span><br><span class="line"></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="äº”-è¯·æ±‚è¿”å›çš„å†…å®¹"><a href="#äº”-è¯·æ±‚è¿”å›çš„å†…å®¹" class="headerlink" title="äº”. è¯·æ±‚è¿”å›çš„å†…å®¹"></a>äº”. è¯·æ±‚è¿”å›çš„å†…å®¹</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  data:&#123;&#125;,</span><br><span class="line">  status:200,</span><br><span class="line">  //ä»æœåŠ¡å™¨è¿”å›çš„httpçŠ¶æ€æ–‡æœ¬</span><br><span class="line">  statusText:&apos;OK&apos;,</span><br><span class="line">  //å“åº”å¤´ä¿¡æ¯</span><br><span class="line">  headers: &#123;&#125;,</span><br><span class="line">  //`config`æ˜¯åœ¨è¯·æ±‚çš„æ—¶å€™çš„ä¸€äº›é…ç½®ä¿¡æ¯</span><br><span class="line">  config: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½ å¯ä»¥è¿™æ ·æ¥è·å–å“åº”ä¿¡æ¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&apos;/user/12345&apos;)</span><br><span class="line">then(function(res)&#123;</span><br><span class="line">  console.log(res.data);</span><br><span class="line">  console.log(res.status);</span><br><span class="line">  console.log(res.statusText);</span><br><span class="line">  console.log(res.headers);</span><br><span class="line">  console.log(res.config);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h1 id="å…­-é»˜è®¤é…ç½®"><a href="#å…­-é»˜è®¤é…ç½®" class="headerlink" title="å…­. é»˜è®¤é…ç½®"></a>å…­. é»˜è®¤é…ç½®</h1><p>ä½ å¯ä»¥è®¾ç½®é»˜è®¤é…ç½®ï¼Œå¯¹æ‰€æœ‰è¯·æ±‚éƒ½æœ‰æ•ˆ</p>
<h2 id="1-å…¨å±€é»˜è®¤é…ç½®"><a href="#1-å…¨å±€é»˜è®¤é…ç½®" class="headerlink" title="1.å…¨å±€é»˜è®¤é…ç½®"></a>1.å…¨å±€é»˜è®¤é…ç½®</h2><p>axios.defaults.baseURL = â€˜<a href="http://api.exmple.com&#39;" target="_blank" rel="noopener">http://api.exmple.com&#39;</a>;<br>axios.defaults.headers.common[â€˜Authorizationâ€™] = AUTH_TOKEN;<br>axios.defaults.headers.post[â€˜content-Typeâ€™] = â€˜appliction/x-www-form-urlencodedâ€™;</p>
<h2 id="2-è‡ªå®šä¹‰çš„å®ä¾‹é»˜è®¤è®¾ç½®"><a href="#2-è‡ªå®šä¹‰çš„å®ä¾‹é»˜è®¤è®¾ç½®" class="headerlink" title="2.è‡ªå®šä¹‰çš„å®ä¾‹é»˜è®¤è®¾ç½®"></a>2.è‡ªå®šä¹‰çš„å®ä¾‹é»˜è®¤è®¾ç½®</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//å½“åˆ›å»ºå®ä¾‹çš„æ—¶å€™é…ç½®é»˜è®¤é…ç½®</span><br><span class="line">var instance = axios.create(&#123;</span><br><span class="line">    baseURL: &apos;https://api.example.com&apos;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//å½“å®ä¾‹åˆ›å»ºæ—¶å€™ä¿®æ”¹é…ç½®</span><br><span class="line">instance.defaults.headers.common[&quot;Authorization&quot;] = AUTH_TOKEN;</span><br></pre></td></tr></table></figure>
<h2 id="3-é…ç½®ä¸­çš„æœ‰ä¼˜å…ˆçº§"><a href="#3-é…ç½®ä¸­çš„æœ‰ä¼˜å…ˆçº§" class="headerlink" title="3.é…ç½®ä¸­çš„æœ‰ä¼˜å…ˆçº§"></a>3.é…ç½®ä¸­çš„æœ‰ä¼˜å…ˆçº§</h2><p>configé…ç½®å°†ä¼šä»¥ä¼˜å…ˆçº§åˆ«æ¥åˆå¹¶ï¼Œé¡ºåºæ˜¯lib/defauts.jsä¸­çš„é»˜è®¤é…ç½®ï¼Œç„¶åæ˜¯å®ä¾‹ä¸­çš„é»˜è®¤é…ç½®ï¼Œæœ€åæ˜¯è¯·æ±‚ä¸­çš„configå‚æ•°çš„é…ç½®ï¼Œè¶Šå¾€åç­‰çº§è¶Šé«˜ï¼Œåé¢çš„ä¼šè¦†ç›–å‰é¢çš„ä¾‹å­ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//åˆ›å»ºä¸€ä¸ªå®ä¾‹çš„æ—¶å€™ä¼šä½¿ç”¨librayç›®å½•ä¸­çš„é»˜è®¤é…ç½®</span><br><span class="line">//åœ¨è¿™é‡Œtimeouté…ç½®çš„å€¼ä¸º0ï¼Œæ¥è‡ªäºlibrayçš„é»˜è®¤å€¼</span><br><span class="line">var instance = axios.create();</span><br><span class="line">//å›è¦†ç›–æ‰libraryçš„é»˜è®¤å€¼</span><br><span class="line">//ç°åœ¨æ‰€æœ‰çš„è¯·æ±‚éƒ½è¦ç­‰2.5Sä¹‹åæ‰ä¼šå‘å‡º</span><br><span class="line">instance.defaults.timeout = 2500;</span><br><span class="line">//è¿™é‡Œçš„timeoutå›è¦†ç›–ä¹‹å‰çš„2.5Så˜æˆ5s</span><br><span class="line">instance.get(&apos;/longRequest&apos;,&#123;</span><br><span class="line">  timeout: 5000</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h1 id="ä¸ƒ-æ‹¦æˆªå™¨"><a href="#ä¸ƒ-æ‹¦æˆªå™¨" class="headerlink" title="ä¸ƒ. æ‹¦æˆªå™¨"></a>ä¸ƒ. æ‹¦æˆªå™¨</h1><p>ä½ å¯ä»¥åœ¨è¯·æ±‚ã€å“åº”åœ¨åˆ°è¾¾then/catchä¹‹å‰æ‹¦æˆªä»–ä»¬</p>
<p>1.æ·»åŠ ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.request.use(function(config)&#123;</span><br><span class="line">  //åœ¨è¯·æ±‚å‘å‡ºä¹‹å‰è¿›è¡Œä¸€äº›æ“ä½œ</span><br><span class="line">  return config;</span><br><span class="line">&#125;,function(err)&#123;</span><br><span class="line">  //Do something with request error</span><br><span class="line">  return Promise.reject(error);</span><br><span class="line">&#125;);</span><br><span class="line">//æ·»åŠ ä¸€ä¸ªå“åº”æ‹¦æˆªå™¨</span><br><span class="line">axios.interceptors.response.use(function(res)&#123;</span><br><span class="line">  //åœ¨è¿™é‡Œå¯¹è¿”å›çš„æ•°æ®è¿›è¡Œå¤„ç†</span><br><span class="line">  return res;</span><br><span class="line">&#125;,function(err)&#123;</span><br><span class="line">  //Do something with response error</span><br><span class="line">  return Promise.reject(error);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>2ã€å–æ¶ˆæ‹¦æˆªå™¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var myInterceptor = axios.interceptor.request.use(function()&#123;/*....*/&#125;);</span><br><span class="line">axios.interceptors.request.eject(myInterceptor);</span><br></pre></td></tr></table></figure></p>
<p>3ã€ ç»™è‡ªå®šä¹‰çš„axioså®ä¾‹æ·»åŠ æ‹¦æˆªå™¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var instance = axios.create();</span><br><span class="line">instance.interceptors.request.use(function()&#123;&#125;)</span><br></pre></td></tr></table></figure></p>
<h1 id="å…«-é”™è¯¯å¤„ç†"><a href="#å…«-é”™è¯¯å¤„ç†" class="headerlink" title="å…«. é”™è¯¯å¤„ç†"></a>å…«. é”™è¯¯å¤„ç†</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&apos;/user/12345&apos;)</span><br><span class="line">  .catch(function(error)&#123;</span><br><span class="line">    if(error.response)&#123;</span><br><span class="line">      //è¯·æ±‚å·²ç»å‘å‡ºï¼Œä½†æ˜¯æœåŠ¡å™¨å“åº”è¿”å›çš„çŠ¶æ€å—ä¸åœ¨2xxçš„èŒƒå›´å†…</span><br><span class="line">      console.log(error.response.data);</span><br><span class="line">      console.log(error.response.status);</span><br><span class="line">      console.log(error.response.header);</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">      //ä¸€äº›é”™è¯¯æ˜¯åœ¨è®¾ç½®è¯·æ±‚çš„æ—¶å€™è§¦å‘</span><br><span class="line">      console.log(&apos;Error&apos;,error.message);</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(error.config);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<h1 id="ä¹-å–æ¶ˆ"><a href="#ä¹-å–æ¶ˆ" class="headerlink" title="ä¹. å–æ¶ˆ"></a>ä¹. å–æ¶ˆ</h1><p>ä½ å¯ä»¥é€šè¿‡ä¸€ä¸ªcancel tokenæ¥å–æ¶ˆä¸€ä¸ªè¯·æ±‚</p>
<p>ä½ å¯ä»¥é€šè¿‡CancelToken.sourceå·¥å‚å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªcancel token<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">var CancelToken = axios.CancelToken;</span><br><span class="line">var source = CancelToken.source();</span><br><span class="line"></span><br><span class="line">axios.get(&apos;/user/12345&apos;,&#123;</span><br><span class="line">  cancelToken: source.token</span><br><span class="line">&#125;).catch(function(thrown)&#123;</span><br><span class="line">  if(axios.isCancel(thrown))&#123;</span><br><span class="line">    console.log(&apos;Request canceled&apos;,thrown.message);</span><br><span class="line">  &#125;else &#123;</span><br><span class="line">    //handle error</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//å–æ¶ˆè¯·æ±‚ï¼ˆä¿¡æ¯çš„å‚æ•°å¯ä»¥è®¾ç½®çš„ï¼‰</span><br><span class="line">source.cance(&quot;æ“ä½œè¢«ç”¨æˆ·å–æ¶ˆ&quot;);</span><br><span class="line">ä½ å¯ä»¥ç»™cancelTokenæ„é€ å‡½æ•°ä¼ é€’ä¸€ä¸ªexecutor functionæ¥åˆ›å»ºä¸€ä¸ªcancel token:</span><br><span class="line">var cancelToken = axios.CancelToken;</span><br><span class="line">var cance;</span><br><span class="line">axios.get(&apos;/user/12345&apos;,&#123;</span><br><span class="line">cancelToken: new CancelToken(function(c)&#123;</span><br><span class="line"> //è¿™ä¸ªexecutorå‡½æ•°æ¥å—ä¸€ä¸ªcancel functionä½œä¸ºå‚æ•°</span><br><span class="line"> cancel = c;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">//å–æ¶ˆè¯·æ±‚</span><br><span class="line">cancel();</span><br></pre></td></tr></table></figure></p>

 
                <!-- Meta -->
                <div class="post-meta">
                    <hr>
                    <br>
                    <div class="post-tags">
                        
                            

<a href="/tags/æ•™ç¨‹/">#æ•™ç¨‹</a>


                        
                    </div>
                    <div class="post-date">
                        2017 å¹´ 03 æœˆ 11 æ—¥
                    </div>
                </div>
            </div>

            <!-- Comments -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- Disqus Comments -->


            </div>
        </div>
    </div>
</article>
</section>

    <!-- Scripts -->
    <!-- jQuery -->
<script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<script type="text/javascript">
	console.log('Hexo-theme-hollow designed by zchen9 ğŸ™‹ Â© 2015-' + (new Date()).getFullYear());
</script>

    <!-- Google Analytics -->
    

</body>

</html>